# Documentation Overview

As mentioned earlier, the JavaDoc contains detailed information on individual classes and methods. However, it doesn't fully discuss the general function and usage of `glsl-transformer` by API consumers. This section will attempt to give an overview of how it works.

## Packages

TODO: explain what the packages do

## Transformation Pipeline

TODO: give an overview of the pipeline, how to use glsl-transformer and how it works

- Construct transformations and transformation phases (called lifecycle users from now on) and combine them into a network of dependencies that do the transformation work.
- Register lifecycle users with a transformation manager.
- Every time a string is transformed by the transformation manager, or rather, the execution planner, the following happens:
  - The execution planner constructs an execution plan with the given fixed portion of the job parameters, if it can't be found in the cache. The plan is optimized for the minimum number of tree walk operations and dependencies deactivated based on the fixed parameters are not included.
  - It parses the string using the parser generated by ANTLR into a parse tree.
  - The execution planner runs the execution plan on the parse tree which transforms it in some way.
  - Finally, the transformation manager prints the transformed tree back into a string and returns it.

## Lexing and Parsing with ANTLR

TODO:

- how does the grammar work
- ANTLR generates code from the grammar (which makes it part of the API surface)
- lexing (on chars) vs parsing (on tokens)
- details of the glsl lexer and parser
- hidden token channels
- what is a parse tree
- parse tree vs AST (see wikipedia, the terms are not entirely disjoint)
- how can parse nodes be used

## Tree change tracking

TODO:

- parsing of new nodes as local roots
- new token streams for local roots
- omission sets for removed nodes

## Transformation

TODO:

- ExecutionPlanner, Transformation, Phase
- xpath
- pattern matching
- lifecycle user management
- phase execution checks
- AST features and their usage

## Execution Planning

## Re-Printing

TODO:

- Tree visit
- interval iteration, omission set testing
- Whitespace preservation (+demonstration)
